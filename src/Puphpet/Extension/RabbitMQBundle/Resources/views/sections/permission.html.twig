{% import "PuphpetMainBundle:front:macros/popover.html.twig" as popover %}
{% set uniqid = uniqid('rmqup_', true)|lower %}

<div class="panel panel-default" id="{{ uniqid }}">
    <div class="panel-heading">
        <h3 class="panel-title">User Permissions</h3>
    </div>

    <div class="panel-body">

        <div class="row form-group">
            <div class="col-md-6">
                <label for="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-host">
                    Virtual Host Name
                    {{ popover.small('Virtual host must be added in the section above!') }}
                </label>
                <input type="text" id="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-host"
                       name="rabbitmq[users][{{ userId }}][permissions][{{ uniqid }}][host]"
                       placeholder="myhost"
                       value="{{ permission.host }}" class="form-control" />
            </div>

            <div class="col-md-6">
                <label for="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-configure_permission">
                    Configure Permission
                </label>
                <input type="text" id="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-configure_permission"
                       name="rabbitmq[users][{{ userId }}][permissions][{{ uniqid }}][configure_permission]"
                       placeholder=".*"
                       value="{{ permission.configure_permission }}" class="form-control" />
            </div>
        </div>

        <div class="row form-group">
            <div class="col-md-6">
                <label for="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-read_permission">
                    Read Permission
                </label>
                <input type="text" id="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-read_permission"
                       name="rabbitmq[users][{{ userId }}][permissions][{{ uniqid }}][read_permission]"
                       placeholder=".*"
                       value="{{ permission.read_permission }}" class="form-control" />
            </div>

            <div class="col-md-6">
                <label for="rabbitmq-users-{{ userId }}-permission-{{ uniqid }}s-write_permission">
                    Write Permission
                </label>
                <input type="text" id="rabbitmq-users-{{ userId }}-permissions-{{ uniqid }}-write_permission"
                       name="rabbitmq[users][{{ userId }}][permissions][{{ uniqid }}][write_permission]"
                       placeholder=".*"
                       value="{{ permission.write_permission }}" class="form-control" />
            </div>
        </div>

        <p class="text-center">
            <button type="button" class="btn btn-danger btn-sm deleteParentContainer"
                    data-parent-id="{{ uniqid }}">Remove these permissions</button>
        </p>
    </div>
</div>
